{% extends 'registration/userbase.html' %}
{% block title %}注册{% endblock %}
{% block head %}注册{% endblock %}
{% block content %}
    <form enctype="multipart/form-data" onsubmit="return sub()" action="{% url 'register' %}" method="post">
        {% csrf_token %}
        {% for i in form %}
            {{ i.label_tag }}
            {{ i }}
            {{ i.errors }}
        {% empty %}
        {% endfor %}
        <button type="submit">提交</button>
        <input type="hidden" name="next" value="{{ next }}"/>
   </form>

    <br/>
    <span style="font-size: 20px">已有帐号?→<a href="{% url 'login' %}?next={{ next }}" style="color:blue;font-size: 28px">去登录</a></span>


    <script>
    document.getElementById("id_image").onchange= function(event) {
        // 检查文件是否合法
        var file=event.target.files[0];
        if (file.size/1024/1024>50){
            alert("你不能选择大于50M的图片!");
            document.getElementById("id_image").value="";
        }
    };
    function sub() {
        // 检查是否有文件
        if(document.getElementById("header_file").value===""){
            alert("您还没有选择文件!");
            return false;
        }
        return true;
    }
</script>
{% endblock %}